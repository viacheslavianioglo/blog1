<?php//// Конттроллер страницы чтения.//class C_Auth extends C_Base{	//	// Конструктор.	//	public function __construct(){		parent::__construct();	}		public function before(){		parent::before();	}		public function action_login(){		$this->title .= '::Авторизация';		$mUsers = M_Users::Instance();		$mUsers->Logout();				if($this->isPost())		{			if($mUsers->Login($_POST['login'], $_POST['password'], isset($_POST['remember'])))				$this->redirect('/');		}		$this->content = $this->Template('v/auth/v_login.php');	}	public function action_register(){		$this->title .= '::Регистрация';		$mUsers = M_Users::Instance();		$mUsers->Logout();		if($this->isPost())		{			$errors = $mUsers->Register($_POST['name'], $_POST['login'], $_POST['password'] , $_POST['password2'], isset($_POST['remember']));            if (empty($errors))				$this->redirect('/');            else            {                $name = $_POST['name'];                $login = $_POST['login'];            }		}		$this->content = $this->Template('v/auth/v_register.php', array('name' => $name,                                                                    'login' => $login,                                                                    'errors' => $errors));	}    public function action_logout(){        $mUsers = M_Users::Instance();        $mUsers->Logout();        $this->redirect('/');    }}